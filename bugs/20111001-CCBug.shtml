<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html dir="ltr" lang="en"><head>






  
  <meta content="text/html; charset=ISO-8859-1" http-equiv="content-type"><title>Pale Moon - 20111001/CCBug</title><!-- Keep the http-equiv meta tag for IE8 -->
  

  

  
  <meta http-equiv="X-UA-Compatible" content="IE=8">

  
  <link rel="stylesheet" type="text/css" media="screen,projection" href="../menustyle.css">

  
  <link rel="stylesheet" type="text/css" media="screen,projection" href="../pagestyle.css"></head><body>
<table class="maintable" align="center" bgcolor="#f9f9f9" border="0" cellpadding="0" cellspacing="0">

  <tbody>
    <tr>
      <th><img style="border: 0px solid ; width: 800px; height: 82px;" alt="The Pale Moon Project - Custom-built and optimized Firefox browsers for Windows Operating Systems" src="../pm-bannerheader.jpg" align="top" hspace="0" vspace="0"><br>
      </th>
    </tr>
    <tr align="left">
      <td style="padding: 0pt; vertical-align: top; background-color: rgb(82, 114, 161);">
      <br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top;">
      <a href="javascript:history.back()">[ &lt;-- Back ]</a><br>
<h1>CC bug 20111001<br>
      </h1>Speed regression with PGO/SSE2.<br><br>
      <span style="font-weight: bold;">Reporters:</span> n/a<br>
      <span style="font-weight: bold;"><br>
Affects the following:</span> <br>
      <span style="font-weight: bold;"></span><span style="font-weight: bold;">Builds:</span> 7.0.<br>
      <br>
      <span style="font-weight: bold;">Cause:</span>
Compiler issues for the layout subsystem when using PGO combined with SSE2.<br>
      <br>
      <span style="font-weight: bold;">Details:</span><br>The
linking phase of the layout engine causes instability in the compiler
in some situations, causing code to be non-optimized or otherwise
unstable or crashes the compiler altogether. This
is (yet another) PGO compiler bug in MSVC :/<br><br>
      <span style="font-weight: bold;">Solution:</span><br>Re-build, adjusting per-module optimization flags to less aggressive optimizations in part of the layout engine.<br><br>
      <span style="font-weight: bold;">Implementation:</span><br>
Pale Moon 7.0<br>Makefile edit in /layout/generic:<br>Replace CXXFLAGS with forced -O1 -GL, ignoring all other optimization flags.<br>
Makefile edit in /layout/printing:<br>
Add -GL- to CXXFLAGS, excluding it from PGO (not important anyway)<br>
      <br>
Pale Moon 8.0 - Updated patch to include all modules in PGO and disable the ugly replace hack.<br>
Makefile edit in /layout:<br>
Replace /O2 with /O1 for the entire layout subsystem. PGO will still compile for speed where needed<br>
Remove SSE/SSE2 in /layout/style as it causes a compiler crash<br>
<br>
<a href="javascript:history.back()">[ &lt;-- Back ]</a><br>
      <br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; text-align: center;"><!--#include virtual="/nav/footer.html" -->
      <br>
      </td>
    </tr>
  </tbody>
</table>

<br>

<br>

</body></html>
